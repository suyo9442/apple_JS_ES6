<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <title>Document</title>
</head>

<body>
    <div id="mordor"></div>

    <custom-input name="비번"></custom-input>

    <template id="template1">
        <label>이메일을 입력하세여</label><input>
        <style> label { color: red } </style>
    </template>

    <input type="range">

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
        // shadowDom: HTML태그를 몰래 숨겨두는 기능
        // shadowDom 만드는 법

        // 1. div박스에 shadowRoot 열어주기
        document.querySelector('#mordor').attachShadow({
            mode: 'open'
        })
        // > shadowRoot: HTML태그 숨겨주는 곳

        // 2. shadowRoot에 태그 만들기
        document.querySelector('#mordor').shadowRoot.innerHTML = `<p>심연에서 왔도다</p>`



        // Web Components + shadowDom을 하면 완벽한 HTML 모듈화를 할 수 있음


        class 클래스 extends HTMLElement {
            connectedCallback() {
                // style 주는 방법?
                this.innerHTML = `
                <label>이메일 입력하세요</label><input>
                <style></style>`
                // 문제? 다른 label태그도 오염됨! => shadowDom을 쓰자
                // shadowDom에 넣으면 외부에 영향X

                // shadowDom으로 style주기
                this.attachShadow({mode: 'open'})
                this.shadowRoot.innerHTML = `<label>이메일 입력하세요</label><input>
                <style> label {color: red} </style>`
                // 다른 label태그도 오염X
                
                // 근데 이런식으로 짜려면 더러우니까, 실무에서는...
                // HTML 임시 보관함을 사용함 => template
                this.shadowRoot.append(template1.content.cloneNode(true))

                // 이벤트리스너 달려면?
                var el = this.shadowRoot.querySelector('label');
                el.addEventListener('click', function(){ });

            }
        }

        customElements.define('custom-input', 클래스)
    </script>
</body>

</html>